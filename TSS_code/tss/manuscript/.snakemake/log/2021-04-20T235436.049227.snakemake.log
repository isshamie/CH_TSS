Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	2	combine_merge_and_anno
	2	create_refType
	2	distance
	1	generate_genome
	2	homeranno
	10
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775807}
Ready jobs (3):
	homeranno
	generate_genome
	homeranno
Selected jobs (1):
	homeranno
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775806}

[Tue Apr 20 23:54:36 2021]
rule homeranno:
    input: data/peaksInfo/peaks.merge.tss
    output: data/GCF/anno/peaks.merge.tss.anno
    jobid: 11
    wildcards: genome=GCF

[Tue Apr 20 23:59:25 2021]
Finished job 11.
1 of 10 steps (10%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775807}
Ready jobs (3):
	generate_genome
	combine_merge_and_anno
	homeranno
Selected jobs (1):
	combine_merge_and_anno
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775806}

[Tue Apr 20 23:59:25 2021]
rule combine_merge_and_anno:
    input: data/peaksInfo/peaks.merge.tss.minimal, data/GCF/anno/peaks.merge.tss.anno
    output: data/GCF/anno/peaks.merge.tss.minimal.anno
    jobid: 14
    wildcards: genome=GCF

[Tue Apr 20 23:59:38 2021]
Finished job 14.
2 of 10 steps (20%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775807}
Ready jobs (3):
	distance
	generate_genome
	homeranno
Selected jobs (1):
	homeranno
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775806}

[Tue Apr 20 23:59:38 2021]
rule homeranno:
    input: data/peaksInfo/peaks.merge.tss
    output: data/synapse/anno/peaks.merge.tss.anno
    jobid: 8
    wildcards: genome=synapse

[Wed Apr 21 00:05:10 2021]
Finished job 8.
3 of 10 steps (30%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775807}
Ready jobs (3):
	distance
	generate_genome
	combine_merge_and_anno
Selected jobs (1):
	combine_merge_and_anno
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775806}

[Wed Apr 21 00:05:10 2021]
rule combine_merge_and_anno:
    input: data/peaksInfo/peaks.merge.tss.minimal, data/synapse/anno/peaks.merge.tss.anno
    output: data/synapse/anno/peaks.merge.tss.minimal.anno
    jobid: 12
    wildcards: genome=synapse

[Wed Apr 21 00:05:21 2021]
Finished job 12.
4 of 10 steps (40%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775807}
Ready jobs (2):
	distance
	generate_genome
Selected jobs (1):
	distance
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775806}

[Wed Apr 21 00:05:21 2021]
rule distance:
    input: data/GCF/anno/peaks.merge.tss.minimal.anno, data/GCF/genome/refTSS.tsv
    output: data/GCF/anno/peaks.distance.tsv
    jobid: 9
    wildcards: genome=GCF

Full Traceback (most recent call last):
  File "/home/isshamie/software/anaconda2/envs/TSS/lib/python3.7/site-packages/snakemake/executors.py", line 1428, in run_wrapper
    passed_shadow_dir)
  File "/data/isshamie/TSS/Analysis/TSS_code/tss/manuscript/run.smk", line 210, in __rule_distance
    df = pd.read_csv(input.score,sep='\t')
  File "/home/isshamie/software/anaconda2/envs/TSS/lib/python3.7/site-packages/snakemake/shell.py", line 149, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  python peak_distance.py distance data/GCF/anno/peaks.merge.tss.minimal.anno data/GCF/genome/refTSS.tsv data/GCF/anno/peaks.distance.tsv --cpu 32' returned non-zero exit status 1.

[Wed Apr 21 00:05:25 2021]
Error in rule distance:
    jobid: 9
    output: data/GCF/anno/peaks.distance.tsv
    shell:
        python peak_distance.py distance data/GCF/anno/peaks.merge.tss.minimal.anno data/GCF/genome/refTSS.tsv data/GCF/anno/peaks.distance.tsv --cpu 32
        (exited with non-zero exit code)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /data/isshamie/TSS/Analysis/TSS_code/tss/manuscript/.snakemake/log/2021-04-20T235436.049227.snakemake.log
unlocking
removing lock
removing lock
removed all locks
